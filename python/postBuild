#!/bin/bash
set -euo pipefail

echo "Install code-server's latest version"
wget https://github.com/coder/code-server/releases/download/v4.22.1/code-server_4.22.1_amd64.deb \
    -O /tmp/code-server.deb
sudo dpkg -i /tmp/code-server.deb
rm -f /tmp/code-server.deb

echo "Installing code-server extensions..."
code-server --install-extension ms-python.python
code-server --install-extension ms-toolsai.jupyter
code-server --install-extension charliermarsh.ruff
# This includes the jedi language server... seems to not work!
# code-server --install-extension kylinideteam.python

echo "Done installing code-server extensions."
